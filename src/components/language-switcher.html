<div class="custom-lang-dropdown" id="lang-select-wrapper">
  <button type="button" class="lang-btn" id="lang-select-btn">
    <span class="lang-flag flag-ru" id="lang-flag-btn">
      <svg xmlns="http://www.w3.org/2000/svg" width="28" height="20" viewBox="0 0 28 20" fill="none">
        <rect width="28" height="7" fill="#FDFDF5"/>
        <rect y="7" width="28" height="6" fill="#7280E5"/>
        <rect y="13" width="28" height="7" fill="#D54434"/>
      </svg>
    </span>
    <span class="lang-arrow">
      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="12" viewBox="0 0 20 12" fill="none">
        <path d="M4 8L8 8L8 4L4 4L4 8ZM4 -6.99382e-07L0 -8.74228e-07L-1.74846e-07 4L4 4L4 -6.99382e-07ZM12 4L12 8L16 8L16 4L12 4ZM12 12L12 8L8 8L8 12L12 12ZM16 4L20 4L20 0L16 -1.74846e-07L16 4Z" fill="#FDFDF5"/>
      </svg>
    </span>
  </button>
  <ul class="lang-list" id="lang-list" hidden>
    <li data-value="ru">
      <a class="lang-flag flag-ru" href="/">
        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="20" viewBox="0 0 28 20" fill="none">
        <rect width="28" height="7" fill="#FDFDF5"/>
        <rect y="7" width="28" height="6" fill="#7280E5"/>
        <rect y="13" width="28" height="7" fill="#D54434"/>
      </svg>
    </a>
    </li>
    <li data-value="en">
      <a class="lang-flag flag-en" href="/en/">
        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="20" viewBox="0 0 28 20">
          <rect width="28" height="20" fill="#012169"/>
          <polygon points="0,0 4,0 28,16 28,20 24,20 0,4" fill="#ffffff"/>
          <polygon points="28,0 28,4 4,20 0,20 0,16 24,0" fill="#ffffff"/>
          <polygon points="0,0 2,0 28,18 28,20 26,20 0,2" fill="#C8102E"/>
          <polygon points="28,0 28,2 2,20 0,20 0,18 26,0" fill="#C8102E"/>
          <rect x="12" width="4" height="20" fill="#ffffff"/>
          <rect y="8" width="28" height="4" fill="#ffffff"/>
          <rect x="13" width="2" height="20" fill="#C8102E"/>
          <rect y="9" width="28" height="2" fill="#C8102E"/>
        </svg>
      </a>
  </ul>
</div>
<script>

document.addEventListener('DOMContentLoaded', function() {
  const btn = document.getElementById('lang-select-btn');
  const list = document.getElementById('lang-list');
  const wrapper = document.getElementById('lang-select-wrapper');

  btn.addEventListener('click', function(e) {
    e.stopPropagation();
    list.hidden = !list.hidden;
    const arrow = btn.querySelector('.lang-arrow');
    if (!list.hidden) {
      arrow.classList.add('open');
    } else {
      arrow.classList.remove('open');
    }
  });

  document.addEventListener('click', function(e) {
    if (!wrapper.contains(e.target)) {
      list.hidden = true;
      const arrow = btn.querySelector('.lang-arrow');
      arrow.classList.remove('open');
    }
  });
});
</script>